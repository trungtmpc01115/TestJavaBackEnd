<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>  
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

   	<link href="/assets/login/css/login.css" rel="stylesheet"/>
   	
   	 <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <title>Registration</title>
</head>
<body class="bg-image" ng-app="login-app" ng-controller="login-ctrl">
    <div class="panel panel-primary panel-login">
        <div class="panel-body">
            <form name="formLogup">
                <div class="panel-heading text-center text-primary"><h4>Registration</h4></div>
                
                <div class="text-center">
						<label style="height: 150px; width: 150px;" for="photo"> <img
							ng-src="{{'/assets/images/users/' + form.emoji}}"
							style="max-width: 100%; height: 150px;" />
						</label>
				</div>
				<div class="magin-bottom-15">            
                        <input type="file" class="form-control" id="photo" onchange="angular.element(this).scope().imageChanged(this.files)">
                 </div>
                <div class="magin-bottom-15">
                    <div class="input-group" >
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                        <input ng-model="form.id"  type="text" class="form-control"  placeholder="Id" name="id" ng-pattern="/^(?=\S*[a-z])(?=\S*[A-Z])(?=\S*\d)\S{8,}$/" ng-required="true">
                    </div>
                    <span class="color-red" ng-show="formLogup.id.$dirty&&formLogup.id.$error.pattern">ID must contain at least one lowercase letter, one uppercase letter, and one number.</span>										
                    <span class="color-red" ng-show="formLogup.id.$error.required">Id not be empty</span>
                </div>
                <div class="magin-bottom-15">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                        <input ng-model="form.password"  type="password" class="form-control"  placeholder="Password"  name="password" ng-pattern="/^(?=\S*[a-z])(?=\S*[A-Z])(?=\S*\d)(?=\S*[^\w\s])\S{8,}$/" ng-required="true">                    
                    </div>
                    <span class="color-red" ng-show="formLogup.password.$error.required" >Password not be empty</span>     
                    <span class="color-red" ng-show="formLogup.password.$dirty&&formLogup.password.$error.pattern">Password must be at least one lowercase letter, one uppercase letter, one number, one special character each.</span>										
                                  
                </div>
                <div class="magin-bottom-15">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                        <input ng-model="form.name" type="text" class="form-control"  placeholder="Name"  name="name" ng-required="true" ng-pattern="/^[a-z]([-']?[a-z]+)*( [a-z]([-']?[a-z]+)*)+$/i" >  						                  
                    </div>
                    <span class="color-red" ng-show="formLogup.name.$error.required">Name not be empty</span>
                    <span class="color-red" ng-show="formLogup.name.$dirty&&formLogup.name.$error.pattern">Name malformed</span>						
                </div>
                <div class="magin-bottom-15">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                        <input ng-model="form.email" id="email" type="email" class="form-control"  placeholder="Email"  name="email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-required="true" >   								                 
                    </div>
                    <span class="color-red" ng-show="formLogup.email.$error.required">Email not be empty</span>
                    <span class="color-red" ng-show="formLogup.email.$dirty&&formLogup.email.$error.pattern">Email malformed</span>						
                </div>
                <div class="magin-bottom-15">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                        <input ng-model="form.phonenumber" id="email" type="text" class="form-control"  placeholder="Phone Nuber"  name="phone" ng-pattern="/^(\d{3})[ .-]?(\d{4})[ .-]?(\d{4})( ?(ext\.? ?|x)(\d*))?$/" ng-required=true>                    
                    </div>
                    <span class="color-red" ng-show="formLogup.phone.$error.required">Phone number not be empty</span>
                    <span class="color-red" ng-show="formLogup.phone.$dirty && formLogup.phone.$invalid">Phone number malformed</span>
                </div>
                <div class="magin-bottom-15">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                        <input ng-model="form.address" id="email" type="text" class="form-control"  placeholder="Address"  name="address" required>                    
                    </div>
                    <span class="color-red" ng-hide="formLogup.address.$valid">Address not be empty</span>
                </div>
                <i class="pull-left color-red magin-bottom-15" th:text="${message}"></i>
                <button ng-click="logup()" ng-disabled="!formLogup.$valid" class="btn btn-primary button-login magin-bottom-15">Registration</button>
            	<a href="/security/login/form" class="btn btn-primary button-login">Login</a>
            </form>
        </div>      
    </div>    

    <script src="/assets/login/js/user.js"></script>
</body>
</html>